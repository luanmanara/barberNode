<%- include("../partials/header") %>
<div class="h-screen flex flex-col items-center w-full bg-gray-100">
    <div class="flex flex-col relative justify-center items-center h-1/4 bg-center bg-no-repeat bg-cover w-11/12 mt-2 mb-4 rounded-xl shadow-lg" style="background-image: linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), url('/images/bg_home.jfif');">
        <h1 class="text-2xl lg:text-4xl text-white font-medium mb-2 text-center">AGENDE AGORA SEU HOR√ÅRIO</h1>
        <hr class="w-1/4 font-bold bg-yellow-500">
        <a class="lg:absolute lg:top-4 lg:right-3 mt-4 lg:mt-0 w-16 py-2 lg:w-24 text-yellow-500
                  text-center rounded-xl border-2 border-yellow-500
                  hover:bg-yellow-500 hover:text-white font-medium lg:text-lg transition-all
                  duration-400" href="/">Sair</a>
    </div>
    <div class="flex flex-col-reverse justify-around h-2/3 lg:flex-row w-11/12 mb-6">
        <div class="h-2/3 lg:h-auto w-full lg:w-1/3 flex flex-col shadow-lg mr-3 rounded-b-xl divide-y mt-5">
            <div class="flex justify-around items-center text-center lg:h-1/5 rounded-t-xl bg-white">
                <% let mesA = subtraiMes(dataAtual.toString()).getTime(); %>
                <a class="block" href="/agendamentos/<%- mesA %>">
                    <i class="fas fa-angle-left text-black"></i>
                </a>
                <h1 class="text-black text-3xl"> <%- mesAno %></h1>
                <% let mesP = adicionaMes(dataAtual.toString()).getTime(); %>
                <a class="block" href="/agendamentos/<%- mesP %>">
                    <i class="fas fa-angle-right text-black"></i>
                </a>
            </div>
            <div class="flex w-full flex-col h-full lg:h-4/5 flex-wrap shadow-lg bg-white rounded-b-xl">
                <% for(let i=0; i < 7; i++){ %>
                    <% let x = adicionaDia(primeiroDia.toString(), i); %>
                    <div class="flex flex-col w-auto h-full">
                        <div class="flex justify-center items-center text-center h-auto lg:h-1/5 border-r border-gray-100">
                            <h2 class="text-black">
                                <%- dias[i] %>
                            </h2>
                        </div>
                        <div class="h-80 lg:h-4/5 w-full">
                            <% for(let j=0; j < 6; j++){ %>
                                <% let y = multiplicaDia(x.toString(), j); %>
                                <div class="h-1/6 text-xs shadow-sm text-center cursor-pointer flex justify-center items-center
                                            <%- new Date().setHours(0,0,0,0) == y.getTime() ? 'bg-gray-100' : '' %>">
                                    <span class="block"><%- y.getDate() %></span>
                                </div>
                            <% } %>
                        </div>
                    </div>
                <% } %>
            </div>
        </div>
        <div class="h-1/3 lg:h-auto w-full lg:w-2/3 shadow-xl bg-white rounded-xl mt-5">
            <iframe class="w-full h-full overflow-auto" src="/horarios/<%-new Date().setHours(0,0,0,0)%>" frameborder="0">
            </iframe>
        </div>
    </div>
</div>
<%- include("../partials/footer") %>